from __init__ import *
from app.models.business_person import BusinessPerson

def test_business_person():
    mock_extracted_hash = {u'leader_of': {u'count': 1.0, u'valuetype': u'compound', u'values': [{u'lang': u'en', u'creator': u'/user/btdtrang', u'text': u'2000-01-12 - Microsoft Corporation - 1975-04-04 - btdtrang - Chief Executive Officer - Chief Executive Officer - Organization leadership', u'timestamp': u'2013-07-19T10:48:01Z', u'property': {u'/type/object/type': {u'count': 1.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'Organization leadership', u'id': u'/organization/leadership', u'timestamp': u'2013-07-19T10:48:01Z', u'creator': u'/user/btdtrang'}]}, u'/type/object/attribution': {u'count': 1.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'btdtrang', u'id': u'/m/0vbjxvw', u'timestamp': u'2013-07-19T10:48:01Z', u'creator': u'/user/btdtrang'}]}, u'/organization/leadership/title': {u'count': 1.0, u'valuetype': u'string', u'values': [{u'lang': u'vi', u'text': u'Chief Executive Officer', u'timestamp': u'2013-07-19T10:48:01Z', u'value': u'Chief Executive Officer', u'creator': u'/user/btdtrang'}]}, u'/organization/leadership/to': {u'count': 1.0, u'valuetype': u'datetime', u'values': [{u'lang': '', u'text': u'2000-01-12', u'timestamp': u'2013-09-30T15:43:44Z', u'value': u'2000-01-12', u'creator': u'/user/sjcho'}]}, u'/organization/leadership/from': {u'count': 1.0, u'valuetype': u'datetime', u'values': [{u'lang': '', u'text': u'1975-04-04', u'timestamp': u'2013-09-30T15:43:26Z', u'value': u'1975-04-04', u'creator': u'/user/sjcho'}]}, u'/organization/leadership/organization': {u'count': 1.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'Microsoft Corporation', u'id': u'/m/04sv4', u'timestamp': u'2013-07-19T10:48:01Z', u'creator': u'/user/btdtrang'}]}, u'/organization/leadership/role': {u'count': 1.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'Chief Executive Officer', u'id': u'/m/0dq_5', u'timestamp': u'2013-09-30T15:44:07Z', u'creator': u'/user/sjcho'}]}}, u'id': u'/m/0w8ry91'}]}, '/business/board_member': {}, u'organizations_founded': {u'count': 7.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'Bill & Melinda Gates Foundation', u'id': u'/m/012mjr', u'timestamp': u'2008-07-13T18:46:07Z', u'creator': u'/user/earlye'}, {u'lang': u'en', u'text': u'Microsoft Corporation', u'id': u'/m/04sv4', u'timestamp': u'2010-07-25T05:09:59Z', u'creator': u'/user/gardening_bot'}, {u'lang': u'en', u'text': u'Corbis', u'id': u'/m/02fzrq', u'timestamp': u'2010-07-25T05:21:02Z', u'creator': u'/user/gardening_bot'}, {u'lang': u'en', u'text': u'bgC3', u'id': u'/m/04q34w5', u'timestamp': u'2010-07-25T05:23:29Z', u'creator': u'/user/gardening_bot'}, {u'lang': u'en', u'text': u'Cascade Investment', u'id': u'/m/03cs4bl', u'timestamp': u'2012-12-19T02:18:02Z', u'creator': u'/user/fact_farm_wikimapper_intersector'}, {u'lang': u'en', u'text': u'Microsoft Research', u'id': u'/m/06rkgg', u'timestamp': u'2012-12-21T17:59:10Z', u'creator': u'/user/fact_farm'}, {u'lang': u'en', u'text': u'The Global Fund to Fight AIDS, Tuberculosis & Malaria', u'id': u'/m/085_73', u'timestamp': u'2013-02-27T22:09:52Z', u'creator': u'/user/fpmdisalvia'}]}, u'organization_board_memberships': {u'count': 4.0, u'valuetype': u'compound', u'values': [{u'lang': u'en', u'creator': u'/user/earlye', u'text': u'Bill & Melinda Gates Foundation - Co-Chairman - earlye - Organization governorship', u'timestamp': u'2008-08-31T02:35:57Z', u'property': {u'/organization/organization_board_membership/organization': {u'count': 1.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'Bill & Melinda Gates Foundation', u'id': u'/m/012mjr', u'timestamp': u'2008-08-31T02:35:57Z', u'creator': u'/user/earlye'}]}, u'/type/object/type': {u'count': 1.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'Organization governorship', u'id': u'/organization/organization_board_membership', u'timestamp': u'2008-08-31T02:35:57Z', u'creator': u'/user/earlye'}]}, u'/type/object/attribution': {u'count': 1.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'earlye', u'id': u'/m/02_5dlr', u'timestamp': u'2008-08-31T02:35:57Z', u'creator': u'/user/earlye'}]}, u'/organization/organization_board_membership/title': {u'count': 1.0, u'valuetype': u'string', u'values': [{u'lang': u'en', u'text': u'Co-Chairman', u'timestamp': u'2010-07-30T00:38:02.001Z', u'value': u'Co-Chairman', u'creator': u'/user/gardening_bot'}]}}, u'id': u'/m/04j6nww'}, {u'lang': u'en', u'creator': u'/user/gardening_bot', u'text': u'1981 - Microsoft Corporation - Chairman - Chairman - robert - 2014-02-04 - Organization governorship', u'timestamp': u'2010-07-30T00:38:48Z', u'property': {u'/type/object/type': {u'count': 1.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'Organization governorship', u'id': u'/organization/organization_board_membership', u'timestamp': u'2010-07-30T00:38:48Z', u'creator': u'/user/gardening_bot'}]}, u'/type/object/attribution': {u'count': 1.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'robert', u'id': u'/m/0j8zw8', u'timestamp': u'2007-04-20T22:17:59Z', u'creator': u'/user/robert'}]}, u'/organization/organization_board_membership/organization': {u'count': 1.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'Microsoft Corporation', u'id': u'/m/04sv4', u'timestamp': u'2010-07-30T00:38:48Z', u'creator': u'/user/gardening_bot'}]}, u'/organization/organization_board_membership/from': {u'count': 1.0, u'valuetype': u'datetime', u'values': [{u'lang': '', u'text': u'1981', u'timestamp': u'2010-07-30T00:38:48Z', u'value': u'1981', u'creator': u'/user/gardening_bot'}]}, u'/organization/organization_board_membership/title': {u'count': 1.0, u'valuetype': u'string', u'values': [{u'lang': u'en', u'text': u'Chairman', u'timestamp': u'2014-02-05T02:55:47Z', u'value': u'Chairman', u'creator': u'/user/gmackenz'}]}, u'/organization/organization_board_membership/to': {u'count': 1.0, u'valuetype': u'datetime', u'values': [{u'lang': '', u'text': u'2014-02-04', u'timestamp': u'2014-02-05T02:54:04Z', u'value': u'2014-02-04', u'creator': u'/user/gmackenz'}]}, u'/organization/organization_board_membership/role': {u'count': 1.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'Chairman', u'id': u'/m/09d6p2', u'timestamp': u'2014-02-05T02:56:38Z', u'creator': u'/user/gmackenz'}]}}, u'id': u'/m/02h53n7'}, {u'lang': u'en', u'creator': u'/user/gardening_bot', u'text': u'2004 - Berkshire Hathaway - earlye - Organization governorship', u'timestamp': u'2010-07-30T03:09:56Z', u'property': {u'/type/object/type': {u'count': 1.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'Organization governorship', u'id': u'/organization/organization_board_membership', u'timestamp': u'2010-07-30T03:09:56Z', u'creator': u'/user/gardening_bot'}]}, u'/organization/organization_board_membership/organization': {u'count': 1.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'Berkshire Hathaway', u'id': u'/m/01tmng', u'timestamp': u'2010-07-30T03:09:56Z', u'creator': u'/user/gardening_bot'}]}, u'/organization/organization_board_membership/from': {u'count': 1.0, u'valuetype': u'datetime', u'values': [{u'lang': '', u'text': u'2004', u'timestamp': u'2010-07-30T03:09:56Z', u'value': u'2004', u'creator': u'/user/gardening_bot'}]}, u'/type/object/attribution': {u'count': 1.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'earlye', u'id': u'/m/02_5dlr', u'timestamp': u'2008-07-13T18:43:03Z', u'creator': u'/user/earlye'}]}}, u'id': u'/m/04c_w9_'}, {u'lang': u'en', u'creator': u'/user/gardening_bot', u'text': u'1989 - Corbis - Chair - earlye - Organization governorship', u'timestamp': u'2010-07-30T03:09:56.001Z', u'property': {u'/type/object/type': {u'count': 1.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'Organization governorship', u'id': u'/organization/organization_board_membership', u'timestamp': u'2010-07-30T03:09:56Z', u'creator': u'/user/gardening_bot'}]}, u'/organization/organization_board_membership/organization': {u'count': 1.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'Corbis', u'id': u'/m/02fzrq', u'timestamp': u'2010-07-30T03:09:56.001Z', u'creator': u'/user/gardening_bot'}]}, u'/organization/organization_board_membership/from': {u'count': 1.0, u'valuetype': u'datetime', u'values': [{u'lang': '', u'text': u'1989', u'timestamp': u'2010-07-30T03:09:56.001Z', u'value': u'1989', u'creator': u'/user/gardening_bot'}]}, u'/type/object/attribution': {u'count': 1.0, u'valuetype': u'object', u'values': [{u'lang': u'en', u'text': u'earlye', u'id': u'/m/02_5dlr', u'timestamp': u'2008-07-13T19:01:05Z', u'creator': u'/user/earlye'}]}, u'/organization/organization_board_membership/title': {u'count': 1.0, u'valuetype': u'string', u'values': [{u'lang': u'en', u'text': u'Chair', u'timestamp': u'2010-07-30T03:09:56.001Z', u'value': u'Chair', u'creator': u'/user/gardening_bot'}]}}, u'id': u'/m/04c_wjn'}]}, '/organization/organization_founder': {}}
    business_person = BusinessPerson()
    business_person.extract(mock_extracted_hash)
    assert_equal(business_person.board_member,     [{'organization': u'Bill & Melinda Gates Foundation', 'title': u'Co-Chairman'}, {'organization': u'Microsoft Corporation', 'role': u'Chairman', 'title': u'Chairman', 'from': u'1981', 'to': u'2014-02-04'}, {'organization': u'Berkshire Hathaway', 'from': u'2004'}, {'organization': u'Corbis', 'from': u'1989', 'title': u'Chair'}])
    assert_equal(business_person.founded, ['Bill & Melinda Gates Foundation', 'Microsoft Corporation','Corbis','bgC3','Cascade Investment','Microsoft Research','The Global Fund to Fight AIDS, Tuberculosis & Malaria'])
    assert_equal(business_person.leaderships, [{'to': u'2000-01-12', 'role': u'Chief Executive Officer', 'organization': u'Microsoft Corporation', 'from': u'1975-04-04', 'title': u'Chief Executive Officer'}])


